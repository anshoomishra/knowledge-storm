{% extends 'base.html' %}

{% block title %}Notes{% endblock %}

{% block content %}
<div class="row mt-5">
    <div class="col-md-6">
        <h2 class="mt-5">Notes</h2>
        <form method="get" class="form-control">
            <input type="text" name="query" placeholder="Search notes" value="{{ request.GET.query }}" class="form-control mb-3">
            <select name="category" class="form-control mb-3">
                <option value="">All Categories</option>
                {% for category in categories %}
                <option value="{{ category.id }}" {% if category.id == request.GET.category %} selected {% endif %}>{{category.get_full_path }}
                </option>
                {% endfor %}
            </select>
            <button class="btn rounded-0 text-light" type="submit">Filter</button>
        </form>
        <ul>
            {% for note in notes %}
            <li>
                <h3>{{ note.title }}</h3>
                <p class="border-start p-3 bg-dark border-5 border-success text-light">{{ note.text }}</p>
                <p>Category: {{ note.category.get_full_path }}</p>
                <p>Created at: {{ note.created_at }}</p>
                <p>Updated at: {{ note.updated_at }}</p>
            </li>
            {% endfor %}
        </ul>
    </div>
    <div class="col-md-6">
        <a href="{% url 'create_note' %}">create note</a>

        <a href="{% url 'create_category' %}">create category</a>
    </div>
</div>


{% endblock %}
