{% extends 'base.html' %}

{% block title %}Notes{% endblock %}

{% block content %}
<div class="row mt-5">
    <div class="col-md-6">
        <h2 class="">Notes</h2>
        <form method="get" class="form-control mb-3">
            <input type="text" name="query" placeholder="Search notes" value="{{ request.GET.query }}" class="form-control mb-3">
            <select name="category" class="form-control mb-3">
                <option value="">All Categories</option>
                {% for category in categories %}
                <option value="{{ category.id }}" {% if category.id == request.GET.category %} selected {% endif %}>{{category.get_full_path }}
                </option>
                {% endfor %}
            </select>
            <button class="btn rounded-0 text-light" type="submit">Filter</button>
        </form>
        <ul class = "list-group list-group-flush">
            {% for note in notes %}
            <li class="list-group-item mb-3">
                <h5 class="text-primary">{{ note.title }}</h5>
                <p class="border-start p-3 bg-dark border-5 border-success text-light ">{{ note.text }}</p>
                <p class="text-dark"> <strong>Category: {{ note.category.get_full_path }}</strong> </p>
            </li>
            {% endfor %}
        </ul>
    </div>
    <div class="col-md-6">
        <a href="{% url 'create_note' %}">create note</a>

        <a href="{% url 'create_category' %}">create category</a>
    </div>
</div>


{% endblock %}
